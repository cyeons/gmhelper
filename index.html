<textarea id="output">여기에 공문서가 나옵니다.</textarea>
<button onclick="generateDoc()">공문서 생성</button>

<script>
  async function generateDoc() {
    const sender = document.getElementById('sender').value;
    const receiver = document.getElementById('receiver').value;
    const title = document.getElementById('title').value;
    const content = document.getElementById('content').value;
    const contact = document.getElementById('contact').value;

    try {
      const response = await fetch('/.netlify/functions/generateDoc', {
        method: 'POST',
        body: JSON.stringify({ sender, receiver, title, content, contact }),
      });
      const data = await response.json();
      document.getElementById('output').innerText = data.generatedDoc || data.error;
    } catch (error) {
      document.getElementById('output').innerText = '오류 발생';
    }
  }
</script>